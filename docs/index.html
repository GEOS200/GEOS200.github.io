<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Atmospheric Environments - Syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Atmospheric Environments</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Lectures.html" rel="" target="">
 <span class="menu-text">Lectures</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Labs.html" rel="" target="">
 <span class="menu-text">Lab Assignments</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/June-Skeeter" rel="" target=""><i class="bi bi-github" role="img" aria-label="Quarto GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Syllabus</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./acknowledgement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Territorial Acknowledgement</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Additional Resources</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#key-information" id="toc-key-information" class="nav-link active" data-scroll-target="#key-information">Key Information</a></li>
  <li><a href="#your-instructor" id="toc-your-instructor" class="nav-link" data-scroll-target="#your-instructor">Your Instructor</a></li>
  <li><a href="#evaluation" id="toc-evaluation" class="nav-link" data-scroll-target="#evaluation">Evaluation</a></li>
  <li><a href="#course-policies" id="toc-course-policies" class="nav-link" data-scroll-target="#course-policies">Course Policies</a>
  <ul class="collapse">
  <li><a href="#lab-assignments" id="toc-lab-assignments" class="nav-link" data-scroll-target="#lab-assignments">Lab assignments</a></li>
  <li><a href="#quizzes" id="toc-quizzes" class="nav-link" data-scroll-target="#quizzes">Quizzes</a></li>
  <li><a href="#participation-absences" id="toc-participation-absences" class="nav-link" data-scroll-target="#participation-absences">Participation &amp; Absences</a></li>
  <li><a href="#accommodations" id="toc-accommodations" class="nav-link" data-scroll-target="#accommodations">Accommodations</a></li>
  <li><a href="#academic-concessions" id="toc-academic-concessions" class="nav-link" data-scroll-target="#academic-concessions">Academic Concessions</a></li>
  </ul></li>
  <li><a href="#academic-integrity" id="toc-academic-integrity" class="nav-link" data-scroll-target="#academic-integrity">Academic Integrity</a></li>
  <li><a href="#strategies-for-success" id="toc-strategies-for-success" class="nav-link" data-scroll-target="#strategies-for-success">Strategies for Success</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="columns">
<div class="column" style="width:65%;">
<p><strong>GEOS 200 / APBI 244</strong>: 2023 W1</p>
<p>with Dr.&nbsp;June skeeter</p>
<p>This course focuses on the physical principles of weather and climate. We cover thermal, moisture and wind dynamics from the global scale down to the scale of ecosystems. We explore daily weather systems and climate change and discuss large scale weather and climate processes relevant to applications in forestry and agriculture.</p>
<section id="learning-outcomes" class="level1">
<h1>Learning Outcomes</h1>
<ul>
<li>Understand the physical and biological processes that determine the microclimate of a surface.</li>
<li>Explain how microclimates vary in time &amp; space (vertically and horizontally).</li>
<li>Describe interactions between the biosphere and the atmosphere, and to understand how surface-atmosphere feedbacks respond to environmental change.</li>
<li>Know the basic principles of widely used biometeorological instrumentation.</li>
<li>Analyze and interpret data from measurement systems that are used to monitor near-surface climate and surface radiation and energy balances.</li>
<li>Provide examples how the principles of biometeorology have practical application to society.</li>
</ul>
</section>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><img src="images/Illisarvik.png" class="img-fluid"></p>
<p><img src="images/EC_System.jpg" class="img-fluid"></p>
</div>
</div>
<section id="key-information" class="level1">
<h1>Key Information</h1>
<table class="table">
<tbody>
<tr class="odd">
<td><strong>Lectures</strong></td>
<td><ul>
<li>In-person on Wednesday &amp; Friday, 9:30 - 11:00 in Friedman Building, Room 153.</li>
<li>Lectures will be <a href="https://ubc.zoom.us/j/66197337942?pwd=N1RSaGdRWk9RMlozckZUU2RKR0hJQT09">streamed on zoom</a> and <a href="https://drive.google.com/drive/folders/1oazs1h_V7bHgqIOEoqzjMJGuC64OK1S5?usp=sharing">recordings will be posted</a> afterwards.
<ul>
<li>Recordings will be posted afterwards. Find them <a href="https://drive.google.com/drive/folders/1oazs1h_V7bHgqIOEoqzjMJGuC64OK1S5?usp=sharing">here</a></li>
<li><em>Note</em>: Streaming/recording is provided as a courtesy and the quality of online lectures is not guaranteed.</li>
</ul></li>
<li><strong>Participation:</strong> will be assessed using iClicker, <a href="https://lthub.ubc.ca/guides/iclicker-cloud-student-guide/">click here to learn more about iClicker</a>
<ul>
<li>You may ear participation points in person or remotely, but only during lecture</li>
</ul></li>
</ul></td>
</tr>
<tr class="even">
<td><strong>Quizzes</strong></td>
<td><ul>
<li>Quizzes will be held at the end of lecture periodically though the term.
<ul>
<li>See the <a href="./Lectures.html">Lectures Page</a> for a schedule.</li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Labs</strong></td>
<td><ul>
<li>Lab sessions are held in-person, and you must be registered for a lab to complete the course.</li>
<li>More information and links to lab assignments are on the <a href="./Labs.html">Lab Assignments Page</a></li>
</ul></td>
</tr>
<tr class="even">
<td><strong>Final Exam</strong></td>
<td><ul>
<li>The final exam will be will be cumulative, drawing from both lecture and lab material.</li>
<li>More information will be available closer to the exam date.</li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="your-instructor" class="level1">
<h1>Your Instructor</h1>
<p><strong>Dr.&nbsp;June skeeter</strong></p>
<div class="columns">
<div class="column" style="width:30%;">
<p><img src="images/June.jpg" class="img-fluid" style="width:85.0%"></p>
</div><div class="column" style="width:70%;">
<p><strong>Pronouns:</strong> They/Them/Theirs</p>
<p><strong>Email:</strong> june.skeeter@ubc.ca</p>
<p><strong>Office Hours:</strong> Mondays 10:00-11:00 <a href="https://ubc.zoom.us/j/66359522453?pwd=ZzZUMzV3NVY1V3pzcmYzZFBadW93UT09">via Zoom</a> or in person (Room 127, Geography Bldg) by appointment.</p>
<p><strong>Bio:</strong> My name is June. I am a geographer, researcher, and educator who has been living as an uninvited guest on unceded Coast Salish Territory since 2015. I received a PhD in geography from UBC in 2022 and am now working for the UBC Micrometeorology group. I study greenhouse gas exchange in wetland ecosystems and associated feedback mechanisms that influence the earth’s climate system. My principal aims this semester are to give you a broad overview to the dynamics governing of weather and climate and to provide you with a supportive learning environment.</p>
</div>
</div>
</section>
<section id="evaluation" class="level1">
<h1>Evaluation</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p>Lab exercises and the final exam will make up the largest portions of your grade, followed the lecture review quizzes and lecture participation will make up the remaining portion of your grade. You can find schedule for lecture quizzes and lab assignments on the <a href="./Lectures.html">Lecture</a> and <a href="./Labs.html">Lab Assignments</a> pages respectively.</p>
<ul>
<li>iClicker questions will be marked based on correctness (25%) and participation (75%)</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<div id="tbl-grades" class="anchored">
<table class="table table-sm table-striped small">
<caption>Table&nbsp;1: Components of your final grade</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Points Distribution</th>
<th style="text-align: left;">Percent of Final Grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">iClicker Questions</td>
<td style="text-align: left;">10%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lecture Review Quizzes</td>
<td style="text-align: left;">20%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lab Assignments</td>
<td style="text-align: left;">35%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Final Exam</td>
<td style="text-align: left;">35%</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="course-policies" class="level1">
<h1>Course Policies</h1>
<p>My aim for this semester is to provide a flexible and supportive learning environment while respecting the boundaries of myself and your TAs. These course policies are intended to establish a framework for navigating the course.</p>
<section id="lab-assignments" class="level2">
<h2 class="anchored" data-anchor-id="lab-assignments">Lab assignments</h2>
<p>Labs will be marked by your TA using a standard rubric and short comments will be provided where applicable. Late lab submissions will be penalized 10% per day days after their due date.</p>
<ul>
<li>Lab assignments submitted <strong>by the due date</strong> will be graded and returned with feedback within 7 days of the due date.</li>
<li>Late submissions <strong>are note</strong> guaranteed to be returned within 7 days.</li>
</ul>
</section>
<section id="quizzes" class="level2">
<h2 class="anchored" data-anchor-id="quizzes">Quizzes</h2>
<p>Lecture quizzes are to be completed <strong>during</strong> the scheduled lecture period. You will have 25 minutes to complete the quiz. Quizzes are open book, but please make sure to follow the guidelines below on Academic Honesty. Answers to quizzes will be reviewed at the start of the following lecture session.</p>
<ul>
<li>You can complete the quizzes in-person or remotely.</li>
<li>Because answers to quizzes will be reviewed in class you cannot make up missed quizzes.
<ul>
<li>However, lowest scoring lecture quiz will be dropped.</li>
</ul></li>
</ul>
</section>
<section id="participation-absences" class="level2">
<h2 class="anchored" data-anchor-id="participation-absences">Participation &amp; Absences</h2>
<p>If you are sick (with COVID or otherwise), please stay home to protect others and take care of yourself. Lectures are streamed <a href="https://ubc.zoom.us/j/66197337942?pwd=N1RSaGdRWk9RMlozckZUU2RKR0hJQT09">on zoom</a> so that you may still attend online and participation credit. Lecture recordings are also <a href="https://drive.google.com/drive/folders/1oazs1h_V7bHgqIOEoqzjMJGuC64OK1S5?usp=sharing">here</a>. If you miss a lab session, you may attend an alternate session, but make sure to check in with TA running that session.</p>
<ul>
<li>Participation points are only available during the lecture session. Makeup points will not be offered, but I will offer bonus participation points a the end of term which you can use to compensate for an absence or two.</li>
</ul>
</section>
<section id="accommodations" class="level2">
<h2 class="anchored" data-anchor-id="accommodations">Accommodations</h2>
<p>Please contact the <a href="https://students.ubc.ca/about-student-services/centre-for-accessibility">Center for Accessibility</a> if you require accommodations for a disability. Once you are registered please make me aware of any necessary accommodations by email in a timely manner.</p>
<ul>
<li>If you require an accommodation please contact me by email: june.skeeter@ubc.ca</li>
</ul>
</section>
<section id="academic-concessions" class="level2">
<h2 class="anchored" data-anchor-id="academic-concessions">Academic Concessions</h2>
<p>If you experience extenuating circumstances that prevent you completing course work, you may be elidible for an <a href="https://www.arts.ubc.ca/degree-planning/academic-performance/academic-concession/">Academic Concession</a>.</p>
<ul>
<li>I can make accommodations on a case by case basis, but it is your responsibility to communicate your needs in a timely fashion (i.e.&nbsp;<strong>before</strong> a due date).</li>
<li>Please email me promptly (june.skeeter@ubc.ca) so that we can work together to figure out an accommodation for your situation.
<ul>
<li>You are not obligated to explain your personal circumstances to me to justify the concession, my intent is to be accommodating. However, you must to communicate any need for a concession in a timely manner. If you require multiple concessions I may refer you to <a href="https://www.arts.ubc.ca/student-support/academic-support/academic-advising/">Arts Advising</a>.</li>
</ul></li>
</ul>
</section>
</section>
<section id="academic-integrity" class="level1">
<h1>Academic Integrity</h1>
<p>The academic enterprise is founded on honesty, civility, and integrity. As members of this enterprise, all students are expected to know, understand, and follow the codes of conduct regarding academic integrity. At the most basic level, this means submitting only original work done by you and acknowledging all sources of information or ideas and attributing them to others as required. This also means you should not cheat, copy, or mislead others about what is your work. Violations of academic integrity (i.e., misconduct) lead to the breakdown of the academic enterprise, and therefore serious consequences arise and harsh sanctions are imposed.</p>
<p>Plagiarism and cheating will be taken very seriously. The first incident of plagiarism/copying/cheating will result in a zero for the assignment. Further incidents will be reported to the President’s Advisory Committee on Student Discipline in addition to a zero. A more detailed description of academic integrity, including the University’s policies and procedures, may be found <a href="https://learningcommons.ubc.ca/academic-integrity/Links">here</a></p>
<p>Though you may work together with your classmates on the assignments and help each other, ALL STUDENTS MUST SUBMIT THEIR OWN ORIGINAL WORK. This means that your maps must be your own, and your answers must be in your own words. Failure to submit your own work can result in failing the assignment or worse, so please be careful. See the Academic Integrity section of the Syllabus for more information.</p>
</section>
<section id="strategies-for-success" class="level1">
<h1>Strategies for Success</h1>
<p><strong>Be proactive!</strong></p>
<ul>
<li>Keep track of deadlines &amp; note the late submission policies
<ul>
<li>Timely communication is important! If you have an issue, please bring it to my attention.</li>
<li>Partial credit is better than no credit. If you can’t finish a lab before the deadline - just submit what you’ve got done already.</li>
</ul></li>
<li>Drop by office hours &amp; ask questions!</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>